### DNS(将域名转换成 IP 地址)

域名系统，是互联网的一种服务，是用来将**域名**和对应**IP 地址**相互转换的分布式数据库。

ip 地址是用来唯一标识计算机的。

域名：用一串点进行分隔的名字，代表了互联网上某一计算机或计算机组的名称。域名用于在**数据传输**时对**计算机的定位**。域名的层级关系类似一个**树状结构**。

包含根，顶级域名 com,net,edu,cn 等，一级域名，二级域名。

- 根 DNS 服务器（.）
- 顶级域 DNS 服务器（.com）
- 权威 DNS 服务器（server.com）

**根域 DNS 服务器**的信息保存在互联网中**所有**DNS 服务器中,所以所有 DNS 服务器都能**找到并访问**根域 DNS 服务器。所以客户端就可以通过一个 DNS 服务器进入根服务器，然后再找到对应下层目标服务器。

互联网中通过 ip 来进行通信，但是 ip 是一串数字 不方便记忆，所以用更容易记忆的域名方式，而通过 DNS 来将域名解析成 ip。（那能方便记忆只是一方面作用吧，应该不是主要为了这个所以用 DNS 吧）

主机名为一个完整的子域名。一个主机名可以对应多个 ip 地址。一个**ip 地址**可以对应**多个域名**。(怎么对主机名的解释一个一个样啊，没有统一的。)

访问网址的过程：首先是 PC 主机访问网址，告诉 DNS 服务器，来需要获取这个网址的对应 ip，DNS 服务器收到请求后返回给主机对应网址的 ip 地址 主机知道对应地址后就可以进行访问了。(那我直接用的 ip 地址而不用域名的话，是不是可以跳过 DNS? 好像不行，因为我还是要找对应具体 ip 啊)

### 输入一个 url 到显示页面的流程(DNS 负责找到数据包要去的地方)

首先会进行域名解析，实际上是请求服务器中的**文件资源**，没有路径文件的话会访问默认文件。解析后确定了**web 服务器**和**文件名**后根据这些信息产生 http**请求信息**，在发送请求之前需要确认服务器的域名对应的 ip 地址，而 DNS 服务器就是用来处理这个的。

**DNS 解析域名的过程是**，客户端发送一个 DNS 请求给本地的 DNS 服务器(即客户端的 TCP/IP 设置中填写的 **DNS 服务器地址**)，如果能在缓存中找到对应域名的话直接返回 ip 地址，如果找不到就去它的根域服务器解析找到对应**顶级域名服务器**地址，然后本地 DNS 收到顶级域名服务器的地址后再根据域名获得顶级域名服务器给的二级域名服务器地址去找，如此往复本地 DNS 一级一级往下找，最终找到并查询其域名的 ip 地址返回给本地 DNS。(就是去问别人我想要去的地方，但是当前这个人不知道我们要去的地方在那里，只能指路告诉我们要去的地方的管理人员，要我们去问他，到了他指定的地方后，再问目前位置的管理人员，同理指路，最后一路指找到对应位置地址。指路人还分区域管的，不能一步到位指向我们需要的地址，可能是记不住吧，太细的交给下一级域名服务器来管理。)

应用程序(socket 库)，**协议栈**(TCP，UDP 协议，ICMP,ARP,网卡驱动程序，物理硬件网卡)。通过 DNS 获取 ip 后就可以把**传输工作**交给操作系统的**协议栈**来进行处理了；协议栈分为上下两部分，上面给下面分配任务，下面收到委托后开始工作。应用程序(服务器，浏览器)通过调用**Socket 库**，来**委托协议栈工作**。协议栈上半分两块：负责收发数据的**TCP 和 UDP 协议**。(TCP 和 UDP 去看) 下一半是通过 ip 协议控制网络包收发操作。在传输数据时会将数据分为一块一块的网络包，而将网络包发送给对方的操作是由 ip 负责的。ip 还包括 ICMP 协议(告知网络包传输过程中产生的错误信息和控制信息。)和 ARP 协议(根据 ip 地址查询以太网的 MAC 地址)。ARP 协议查询了有什么用吗？ip 下面有网卡驱动程序，是用来控制网卡硬件的。最下面的网卡用来负责实际的收发操作，对网线中的信息发送和接受操作。
给协议栈处理后，再去用 TCP 协议(http 基于 TCP 协议)
